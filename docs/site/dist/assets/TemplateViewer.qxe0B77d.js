import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as n}from"./index.CVf8TyFT.js";const k=({templateId:d,filePath:o,title:l})=>{const[i,c]=n.useState("preview"),[p,m]=n.useState([]),[x,g]=n.useState(!1);n.useEffect(()=>{i==="changelog"&&h()},[i,d]);const h=async()=>{g(!0);try{const r=await fetch(`/pm-tools-templates/changelog/${d}.json`);if(r.ok){const t=await r.json();m(t.changes||[])}}catch(r){console.error("Failed to load changelog:",r)}finally{g(!1)}},v=r=>r.split(".").pop()?.toLowerCase()||"",b=()=>{const r=v(o),t=o.split("/").pop()||"template",a="~2.5KB";switch(r){case"md":return e.jsxs("div",{style:{background:"var(--bg-primary)",borderRadius:"var(--radius-lg)"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--border-light)",display:"flex",alignItems:"center",justifyContent:"space-between",background:"var(--bg-secondary)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"1.5rem"},children:"ðŸ“„"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:t}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Markdown â€¢ ",a]})]})]}),e.jsx("a",{href:`/pm-tools-templates/${o}`,download:!0,className:"btn btn-secondary",style:{fontSize:"0.75rem",padding:"0.5rem 0.75rem"},children:"ðŸ’¾ Download"})]}),e.jsx("iframe",{src:`/pm-tools-templates/preview/markdown?file=${encodeURIComponent(o)}`,style:{width:"100%",height:"600px",border:"none",borderRadius:"0 0 var(--radius-lg) var(--radius-lg)"},title:`Preview of ${l}`})]});case"docx":return s("docx","ðŸ“„","Word Document");case"xlsx":return s("xlsx","ðŸ“Š","Excel Spreadsheet");case"pptx":return s("pptx","ðŸ“Ž","PowerPoint Presentation");default:return s("file","ðŸ“","File")}},s=(r,t,a)=>{const y=o.split("/").pop()||"template";return e.jsxs("div",{style:{background:"var(--bg-primary)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:t}),e.jsx("h3",{style:{color:"var(--text-primary)",marginBottom:"0.5rem",fontSize:"1.25rem",fontWeight:"600"},children:y}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"2rem",fontSize:"0.875rem"},children:[a," â€¢ ","~156KB"]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("a",{href:`/pm-tools-templates/${o}`,download:!0,className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["ðŸ’¾ Download ",r.toUpperCase()]}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>navigator.clipboard.writeText(window.location.origin+`/pm-tools-templates/${o}`),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"ðŸ”— Copy Link"})]})]}),e.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid var(--border-light)",background:"var(--bg-secondary)"},children:[e.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"0.75rem",fontSize:"0.875rem",fontWeight:"600"},children:"ðŸ“ Quick Start Tips"}),e.jsxs("ul",{style:{color:"var(--text-secondary)",fontSize:"0.8125rem",paddingLeft:"1.25rem",lineHeight:"1.6"},children:[e.jsx("li",{children:"Download the template to get started immediately"}),e.jsx("li",{children:"Customize the content for your specific project needs"}),e.jsx("li",{children:"Check the changelog tab to see recent updates"}),e.jsx("li",{children:"Save to favorites for quick access later"})]})]})]})},u=()=>x?e.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading changelog..."}):p.length===0?e.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:e.jsx("p",{children:"No changelog available for this template."})}):e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx("h3",{children:"Version History"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"1rem",top:"0",bottom:"0",width:"2px",background:"var(--border-color)",zIndex:1}}),p.map((r,t)=>e.jsxs("div",{style:{position:"relative",paddingLeft:"3rem",paddingBottom:"1.5rem",paddingTop:t===0?"0":"1.5rem"},children:[e.jsx("div",{style:{position:"absolute",left:"0.5rem",top:t===0?"0.5rem":"2rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"var(--accent-color)",zIndex:2,border:"2px solid var(--bg-color)"}}),e.jsxs("div",{style:{background:"var(--code-bg)",padding:"1rem",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("code",{style:{fontSize:"0.8rem",background:"var(--bg-color)",padding:"0.25rem 0.5rem",borderRadius:"4px"},children:r.hash.substring(0,7)}),e.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:r.date})]}),e.jsx("p",{style:{margin:"0",fontSize:"0.95rem"},children:r.message})]})]},r.hash))]})]});return e.jsxs("div",{children:[e.jsx("h1",{children:l}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("button",{style:{background:i==="preview"?"var(--accent-color)":"var(--code-bg)",color:i==="preview"?"white":"var(--text-color)",border:"1px solid var(--border-color)",padding:"0.5rem 1rem",borderRadius:"4px 4px 0 0",cursor:"pointer",marginRight:"1px"},onClick:()=>c("preview"),children:"Preview"}),e.jsx("button",{style:{background:i==="changelog"?"var(--accent-color)":"var(--code-bg)",color:i==="changelog"?"white":"var(--text-color)",border:"1px solid var(--border-color)",padding:"0.5rem 1rem",borderRadius:"4px 4px 0 0",cursor:"pointer"},onClick:()=>c("changelog"),children:"Version History"})]}),e.jsx("div",{style:{border:"1px solid var(--border-color)",borderRadius:"0 8px 8px 8px",minHeight:"400px"},children:i==="preview"?b():u()})]})};export{k as default};
